
<ui:composition template="IndexAdmin.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"> 
	
	<ui:define name="titulo">
        Baja y Modificacion de Usuarios
    </ui:define>

	<ui:define name="contenido">
	 
	  	 		    
	 	<h:outputLabel value="Editar y/o Eliminar Usuario." style="font-size:30px" />
    
      	<form id="form">
		    <p:dataTable id="listAdmin" var="usu" value="#{listarUsuarios.listusus}" 
		    	emptyMessage="No existen Usuarios" scrollable="true" style=" text-align:center;">
		    	
		        <p:growl id="message" showDetail="true" /> 
		        <f:facet name="header">
		             Administradores
		        </f:facet>
		        
		        <p:column headerText="Mail">
		  
		            <h:outputText value="#{usu.mail}" />
		        </p:column>
		        
		      	<p:column headerText="Password">
		     
		            <h:outputText value="#{usu.password}" />
		        </p:column>	 
		        	        
		        <p:column headerText="Acciones">
		      																							
	        	  <p:commandButton value="Eliminar" type="button" onclick="document.getElementById('inputmail').value='#{usu.mail}'; PF('eliminar').show();"/>
	        	 
	        	  <p:commandButton value="Editar" type="button" onclick="document.getElementById('inputmail2').value='#{usu.mail}'; document.getElementById('inputpass').value='#{usu.password}'; PF('editar').show();" />
	        	   
	    	   	</p:column>
	  	    </p:dataTable>
	  	    <f:facet name="footer">  
            Se encuentran #{(usuarioMB.administradores.size())} usuarios registrados.  
        	</f:facet>
		</form>
		
		
 		<p:dialog header="Desea Eliminar este Usuario?" widgetVar="eliminar" showEffect="explode" hideEffect="bounce" height="28">
 				                   
                	 <h:outputLabel for="inputmail" value="Mail: " />  
		    		 
            		<h:inputText id="inputmail" value='#{usuarioMB.usuarioSelecmail}' readonly="true"/>  
         		    
             <f:facet name="footer">  
                		<p:commandButton value="Eliminar" type="button" action="#{usuarioMB.eliminarUsuario(usuarioMB.usuarioSelecmail)}" />
		    		    <p:commandButton value="Cancelar" type="button" onclick="PF('eliminar').hide();"  /> 
             
            </f:facet> 
		    		  
		
		</p:dialog>
		
		<p:dialog header="Edicion de Usuario" widgetVar="editar" Height="80" Width="20">
		
		        	 <h:outputLabel for="inputmail2" value="Mail: " />  
		        	 
		    		 <h:inputText id="inputmail2" value='#{usuarioMB.usuarioSelecmail}' readonly="true"/>
		    		   
            		 <h:outputLabel for="inputpass" value="Password: " />  
            		 
            		 <p:password id="inputpass" value="#{usuarioMB.usuarioSelecpass}" readonly="false"/>
               		    
             <f:facet name="footer">  
                		<p:commandButton value="Guardar" type="button" action="#{usuarioMB.ModificarUsuario(usuarioMB.usuarioSelecmail, usuarioMB.usuarioSelecpass)}" />
		    		    <p:commandButton value="Cancelar" type="button" onclick="PF('editar').hide();"  /> 
            </f:facet> 
		    
		</p:dialog>


  

	</ui:define>
</ui:composition>
